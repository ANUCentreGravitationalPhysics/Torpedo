%alternative to gaussian whihc uses Matlab routine fmins to find minium of the error between%the data points and a gausian beam fit. About 4 times faster than gaussian.%%%%   NEEDS TO BE IN THE SAME FOLDER AS THE FUNCTION err.m %%%%%%% if err.m goes missing, take the commented lines from the bottom of thus file and same as% the function file err.m in the same folder as this file.%function beamscanglobal curr_date_time%%%%%% INPUTS %%%%%%%% beam diameters/micrometersa1 = [1277 1165 1035 915 777 690 585 517 460 444 484 558]; Apt = 1; % X axis! is oriented horizontala2 = [1140 1069 956 920 812 713 660 599 541 518 512 570]; Apt = 2; % Y axis! is oriented vertial!!%% positions/mm%z=( (4-1.5) + (24-[24 22 20 18 16 14 12 10 8]) )*25.4;z = ([360 410 460 510 560 610 660 710 760 810 860 910]);  % from lens ROC=77.3 at 250mm from laser head%%wavelength/mmlambda=1064*10^(-6);[wX, zX] = gauss(a1, z, lambda);[wY, zY] = gauss(a2, z, lambda);z_values = z;z_vect=min(z_values)-50:0.1:max(z_values)+50;w_vect1=1e3*sqrt(wX.^2+(lambda./(pi.*wX)).^2.*(z_vect-zX).^2);w_vect2=1e3*sqrt(wY.^2+(lambda./(pi.*wY)).^2.*(z_vect-zY).^2);figure(1)h=plot(z, a1/2, 'ob', z, a2/2, 'xr', ...        z_vect, w_vect1, '-b', ...        z_vect, w_vect2, '-r', ...       'LineWidth',2);grid on;legend(['Apt 1 (X), fit: w_0 = ',num2str(wX*1000),' um, z_0 = ',num2str(zX),' mm'], ...    ['Apt 2 (Y), fit: w_0 = ',num2str(wY*1000),' um, z_0 = ',num2str(zY),' mm']);xlabel('(down stream lens) z/mm', 'FontSize', 14)ylabel('beam radius/mircometers', 'FontSize', 14)axis('tight')curr_date_time = datestr(now);title(['Beam Scan Fit - ', curr_date_time, ', f=265mm at 290mm'], 'FontSize', 14);saveas(gcf, ['BeamScan_LaserB_EOM_', datestr(now,'yyyymmdd'), '.pdf'], 'pdf');%%%   Contents of err.m %%%%%